{{- if .Values.operatorconfig.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: minio-operator-config
  namespace: {{ .Values.namespace.name }}
  annotations:
    argocd.argoproj.io/sync-wave: "1"
data:
  config.yaml: |
    # MinIO AIStor Object Store Operator Configuration
    operator:
      watchNamespace: {{ .Values.namespace.name }}
      reconcileFrequency: 60s
    
    objectstore:
      defaultImage: "quay.io/minio/aistor:latest"
      defaultServiceType: "ClusterIP"
      defaultPools: 1
      
    security:
      enableTLS: true
      certManager:
        enabled: true
        issuer: "letsencrypt-prod"
{{- end }}